#!/bin/sh

# Sends the following events to the FSM:
# \x04 = SystemCheckSuccess
# \x05 = Activate
# \x08 = Operate
# \x0D = HighVoltageOn
(printf "\x04\x00\x00\x00\x00\x00\x00\x00\x05\x00\x00\x00\x00\x00\x00\x00\x08\x00\x00\x00\x00\x00\x00\x00\x0D\x00\x00\x00\x00\x00\x00\x00"; while true; do printf "\x00\x00\x00\x00\x00\x00\x00\x00"; done) | nc -l 8000 -k
# (while true; do printf "\x04\x00\x00\x00\x00\x00\x00\x00\x05\x00\x00\x00\x00\x00\x00\x00\x08\x00\x00\x00\x00\x00\x00\x00\x0D\x00\x00\x00\x00\x00\x00\x00"; done) | nc -l 8000 -k
# (while true; do printf "\x00\x00\x00\x00\x00\x00\x00\x00"; done) | nc -l 8000 -k

# If everything goes well, adding another node to the
# CAN network running the can-testing-listener binary
# should display:
# Received: Can Extended ID=1 len=64
